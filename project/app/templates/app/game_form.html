{% extends "master.html" %}
{% load static i18n app_utils %}

{% block extrastyle %}
    <link href="{% static 'plugins/css/ace.min.css' %}" rel="stylesheet" />
    <link href="{% static 'martor/css/martor.bootstrap.min.css' %}" rel="stylesheet" />
{% endblock %}

{% block extrajs %}
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"></script>
    <script src="{% static 'plugins/js/ace.js' %}"></script>
    <script src="{% static 'plugins/js/mode-markdown.js' %}"></script>
    <script src="{% static 'plugins/js/ext-language_tools.js' %}"></script>
    <script src="{% static 'plugins/js/theme-github.js' %}"></script>
    <script src="{% static 'plugins/js/highlight.min.js' %}"></script>
    <script src="{% static 'plugins/js/emojis.min.js' %}"></script>
    <script src="{% static 'martor/js/martor.bootstrap.min.js' %}"></script>
{% endblock %}

{% block content %}
    <div class="container">

        <div class="row">
            <div class="offset-md-1 col-10">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title">
                            {% if object %}
                            {% translate "You are about to edit this game" %}: {{ game.name }}
                            {% elif game %}
                            {% translate "You are about to add content to this game" %}: {{ game.name }}
                            {% else %}
                            {% translate "You are about to add a new game" %}
                            {% endif %}
                        </h5>
                        <p class="card-subtitle mb-2 text-body-secondary">{% translate "Duration" %}: {{ game.duration }}</p>
                        <p class="card-text {% if game.status == 'draft' %}text-danger{% elif game.status == 'ready' %}text-warning{% elif game.status == 'ongoing' %}text-success{% elif game.status == 'done' %}text-error{% endif %}">{{ game.get_status_display }}</p>
                    </div>
                    <div class="card-body">
                        <form method="post">
                            {% csrf_token %}
                            {{ form.as_p }}
                            {% if object %}
                            <input type="submit" value="{% translate 'Update' %}">
                            {% elif game %}
                            <input type="submit" value="{% translate 'Bulk create questions and responses' %}">
                            {% else %}
                            <input type="submit" name="submit" value="{% translate 'Create and add another' %}">
                            <input type="submit" name="submit" value="{% translate 'Create and continue modification' %}">
                            <input type="submit" value="{% translate 'Create and go back to the list' %}">
                            {% endif %}
                        </form>
                    </div>
                    <div class="card-footer">
                        {% icon_action 'list' %}
                        {% if game %}
                        {% icon_action 'detail' game.pk %}
                        {% endif %}
                        {% if not object and game %}
                        {% icon_action 'update' game.pk %}
                        {% endif %}
                        {% if game %}
                        {% icon_action 'delete' game.pk %}
                        {% endif %}
                        {% if object %}
                        {% icon_action 'bulk_create_qr' game.pk %}
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

    </div>

{% endblock %}
