{% extends "master.html" %}
{% load i18n %}

{% block content %}
  <div class="container">

    <div class="row">
      <div class="offset-md-1 col-10">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">{% translate "General information" %}</h5>
            <p class="card-text">{% translate "Some statistics about this application (games & players)" %}</p>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <dl class="row">
                <dt class="col-sm-3">{% translate "Nb of players" %}</dt>
                <dd class="col-sm-9">{{ nb_players }}</dd>
              </dl>
            </li>
            <li class="list-group-item">
              <dl class="row">
                <dt class="col-sm-3">{% translate "Nb of games" %}</dt>
                <dd class="col-sm-9">{{ nb_games }}</dd>
              </dl>
            </li>
          </ul>
          <div class="card-body">
            <a href="/admin" class="card-link">{% translate "Back-Office" %}</a>
            <a href="{% url 'game:list' %}" class="card-link">{% translate "Games" %}</a>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="offset-md-4 col-4">
        <hr />
      </div>
    </div>

    <div class="row">
      <div class="offset-md-3 col-6">
        <table class="table table-striped table-bordered table-hover">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">{% translate "First name" %}</th>
              <th scope="col">{% translate "Last name" %}</th>
              <th scope="col">{% translate "Score" %}</th>
            </tr>
          </thead>
          <tbody>
            {% for player in best_players %}
            <tr>
              <th scope="row">{{ forloop.counter }}</th>
              <td>{{ player.user.first_name }}</td>
              <td>{{ player.user.last_name }}</td>
              <td>{{ player.score }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>

  </div>

{% endblock %}
